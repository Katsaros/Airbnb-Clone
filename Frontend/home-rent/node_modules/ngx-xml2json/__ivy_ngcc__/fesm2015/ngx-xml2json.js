import { Injectable, Component, NgModule, defineInjectable } from '@angular/core';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import * as ɵngcc0 from '@angular/core';
class NgxXml2jsonService {
    constructor() { }
    /**
     * @param {?} xml
     * @return {?}
     */
    xmlToJson(xml) {
        let /** @type {?} */ obj = {};
        if (xml.nodeType === 1) {
            if (xml.attributes.length > 0) {
                obj['@attributes'] = {};
                for (let /** @type {?} */ j = 0; j < xml.attributes.length; j += 1) {
                    const /** @type {?} */ attribute = xml.attributes.item(j);
                    obj['@attributes'][attribute.nodeName] = attribute.nodeValue;
                }
            }
        }
        else if (xml.nodeType === 3) {
            obj = xml.nodeValue;
        }
        if (xml.hasChildNodes() && xml.childNodes.length === 1 && xml.childNodes[0].nodeType === 3) {
            obj = xml.childNodes[0].nodeValue;
        }
        else if (xml.hasChildNodes()) {
            for (let /** @type {?} */ i = 0; i < xml.childNodes.length; i += 1) {
                const /** @type {?} */ item = xml.childNodes.item(i);
                const /** @type {?} */ nodeName = item.nodeName;
                if (typeof (obj[nodeName]) === 'undefined') {
                    obj[nodeName] = this.xmlToJson(item);
                }
                else {
                    if (typeof (obj[nodeName].push) === 'undefined') {
                        const /** @type {?} */ old = obj[nodeName];
                        obj[nodeName] = [];
                        obj[nodeName].push(old);
                    }
                    obj[nodeName].push(this.xmlToJson(item));
                }
            }
        }
        return obj;
    }
}
NgxXml2jsonService.ɵfac = function NgxXml2jsonService_Factory(t) { return new (t || NgxXml2jsonService)(); };
NgxXml2jsonService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NgxXml2jsonService, factory: NgxXml2jsonService.ɵfac, providedIn: 'root' });
/** @nocollapse */
NgxXml2jsonService.ctorParameters = () => [];
/** @nocollapse */ NgxXml2jsonService.ngInjectableDef = defineInjectable({ factory: function NgxXml2jsonService_Factory() { return new NgxXml2jsonService(); }, token: NgxXml2jsonService, providedIn: "root" });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxXml2jsonService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return []; }, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class NgxXml2jsonComponent {
    constructor() { }
    /**
     * @return {?}
     */
    ngOnInit() { }
}
NgxXml2jsonComponent.ɵfac = function NgxXml2jsonComponent_Factory(t) { return new (t || NgxXml2jsonComponent)(); };
NgxXml2jsonComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NgxXml2jsonComponent, selectors: [["lib-ngx-xml2json"]], decls: 2, vars: 0, template: function NgxXml2jsonComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "p");
        ɵngcc0.ɵɵtext(1, " Ngx-xml2json ");
        ɵngcc0.ɵɵelementEnd();
    } }, encapsulation: 2 });
/** @nocollapse */
NgxXml2jsonComponent.ctorParameters = () => [];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxXml2jsonComponent, [{
        type: Component,
        args: [{
                selector: 'lib-ngx-xml2json',
                template: `
    <p>
      Ngx-xml2json
    </p>
  `,
                styles: []
            }]
    }], function () { return []; }, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class NgxXml2jsonModule {
}
NgxXml2jsonModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NgxXml2jsonModule });
NgxXml2jsonModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NgxXml2jsonModule_Factory(t) { return new (t || NgxXml2jsonModule)(); }, imports: [[]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxXml2jsonModule, { declarations: [NgxXml2jsonComponent], exports: [NgxXml2jsonComponent] }); })();
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxXml2jsonModule, [{
        type: NgModule,
        args: [{
                imports: [],
                declarations: [NgxXml2jsonComponent],
                exports: [NgxXml2jsonComponent]
            }]
    }], null, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { NgxXml2jsonService, NgxXml2jsonComponent, NgxXml2jsonModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXhtbDJqc29uLmpzIiwic291cmNlcyI6WyJuZzovbmd4LXhtbDJqc29uL2xpYi9uZ3gteG1sMmpzb24uc2VydmljZS50cyIsIm5nOi9uZ3gteG1sMmpzb24vbGliL25neC14bWwyanNvbi5jb21wb25lbnQudHMiLCJuZzovbmd4LXhtbDJqc29uL2xpYi9uZ3gteG1sMmpzb24ubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLCtCQU9FO09BQWlCLFBBUG5CO0FBQTJCLElBT3pCLGlCQUFpQjtBQUNuQjtZQUNFLFNBQVMsckJBQUo7QUFBSyxHQUFHLFlBRVgsZkFBSztBQUVBO1NBRkQsR0FBRyxHQUFHLEVBQUUsQ0FBQyxsQkFFQSxJQUpmLFNBQVMsQ0FBQyxHQUFHO01BSVgsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRSw5QkFINUIsUUFDSSxxQkFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO0tBR1gsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxqQ0FGbEMsUUFDSSxJQUFJLEdBQUcsQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO0FBQ08sRUFBRSxrQkFDN0IsR0FBRyxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyw1Q0FEaEMsWUFBTSxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFFN0IsS0FBSyxyQkFEYixnQkFBUSxHQUFHLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDO0NBQ2YsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxzQkFDakQsakVBRFYsZ0JBQVEsS0FBSyxxQkFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0VBQzNDLFNBQVMs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VHRCLHZCRFMwQjtPQ1IzQixNQUFNLEVBQUUsRUFBRSxjQUNYLC9CRFFVO0FBQXlDO0FDbEJwRDtBQUE2QixJQWEzQixpQkFBaUI7QUFDbkI7QUFDTztBQUdBO0FBQVEsSUFIYixRQUFRLE1BQUs7QUFDZjt1Q0NoQkEseUVBR0MsaEVEREEsU0FBUyxTQUFDLGtCQUNULFFBQVEsRUFBRSxrQkFBa0I7SUNBckIsU0FBQyxrQkFDUixPQUFPLEVBQUUsRUFDUixrQkFDRCxZQUFZLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxrQkFDcEMsT0FBTyxFQUFFLENBQUMsb0JBQW9CLENBQUMsY0FDaEMsakpESkMsUUFBUSxFQUFFLHlDQUlULGtCQUNELE1BQU0sRUFBRSxFQUFFLGNBQ1g7Ozs7NkJBQ0s7QUFBQztBQUFtQjs7Ozs7Ozs7Ozs7O2dEQUVSO0FBQUM7QUFDbkI7QUFDRztBQUdlO0FBQXlDO0FDbEIzRDtBQUEwQjs2Q0FHekIsUUFBUSxTQUFDO0NBQ1IsT0FBTyxFQUFFLEVBQ1Isa0JBQ0QsWUFBWSxFQUFFLENBQUMsb0JBQW9CLENBQUMsa0JBQ3BDLE9BQU8sRUFBRSxDQUFDLG9CQUFvQixDQUFDLGNBQ2hDOzs7Ozs7Ozs7MEJBQ0s7QUFBQztBQUFDO0FBQUk7QUFDRDtBQUF5QztBQUFJO0FBQUM7QUFBSTtBQUFrQztBQUF5QztBQUFJO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE5neFhtbDJqc29uU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoKSB7IH1cblxuICB4bWxUb0pzb24oeG1sKSB7XG5cbiAgICBsZXQgb2JqID0ge307XG5cbiAgICBpZiAoeG1sLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBpZiAoeG1sLmF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBvYmpbJ0BhdHRyaWJ1dGVzJ10gPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB4bWwuYXR0cmlidXRlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHhtbC5hdHRyaWJ1dGVzLml0ZW0oaik7XG4gICAgICAgICAgb2JqWydAYXR0cmlidXRlcyddW2F0dHJpYnV0ZS5ub2RlTmFtZV0gPSBhdHRyaWJ1dGUubm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh4bWwubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgIG9iaiA9IHhtbC5ub2RlVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHhtbC5oYXNDaGlsZE5vZGVzKCkgJiYgeG1sLmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICYmIHhtbC5jaGlsZE5vZGVzWzBdLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICBvYmogPSB4bWwuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XG4gICAgfSBlbHNlIGlmICh4bWwuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhtbC5jaGlsZE5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB4bWwuY2hpbGROb2Rlcy5pdGVtKGkpO1xuICAgICAgICBjb25zdCBub2RlTmFtZSA9IGl0ZW0ubm9kZU5hbWU7XG4gICAgICAgIGlmICh0eXBlb2YgKG9ialtub2RlTmFtZV0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG9ialtub2RlTmFtZV0gPSB0aGlzLnhtbFRvSnNvbihpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIChvYmpbbm9kZU5hbWVdLnB1c2gpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3Qgb2xkID0gb2JqW25vZGVOYW1lXTtcbiAgICAgICAgICAgIG9ialtub2RlTmFtZV0gPSBbXTtcbiAgICAgICAgICAgIG9ialtub2RlTmFtZV0ucHVzaChvbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmpbbm9kZU5hbWVdLnB1c2godGhpcy54bWxUb0pzb24oaXRlbSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLW5neC14bWwyanNvbicsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBOZ3gteG1sMmpzb25cbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW11cbn0pXG5leHBvcnQgY2xhc3MgTmd4WG1sMmpzb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKSB7fVxuXG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmd4WG1sMmpzb25Db21wb25lbnQgfSBmcm9tICcuL25neC14bWwyanNvbi5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW05neFhtbDJqc29uQ29tcG9uZW50XSxcbiAgZXhwb3J0czogW05neFhtbDJqc29uQ29tcG9uZW50XVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hYbWwyanNvbk1vZHVsZSB7IH1cbiJdfQ==