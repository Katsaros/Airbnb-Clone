/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { InjectionToken } from '@angular/core';
import { InMemoryStorageService } from './in-memory-storage.service';
import { isStorageAvailable, WebStorageService } from './web-storage.service';
/**
 * @return {?}
 */
export function sessionStorageFactory() {
    try {
        if ((/** @type {?} */ (typeof sessionStorage)) !== 'undefined' && isStorageAvailable(sessionStorage)) {
            return new WebStorageService(sessionStorage);
        }
    }
    catch (_a) { }
    return new InMemoryStorageService();
}
/**
 * Injection token for the session storage service.
 * @type {?}
 */
export const SESSION_STORAGE = new InjectionToken('SESSION_STORAGE', { providedIn: 'root', factory: sessionStorageFactory });
/**
 * @return {?}
 */
export function localStorageFactory() {
    try {
        if ((/** @type {?} */ (typeof localStorage)) !== 'undefined' && isStorageAvailable(localStorage)) {
            return new WebStorageService(localStorage);
        }
    }
    catch (_a) { }
    return new InMemoryStorageService();
}
/**
 * Injection token for the local storage service.
 * @type {?}
 */
export const LOCAL_STORAGE = new InjectionToken('LOCAL_STORAGE', { providedIn: 'root', factory: localStorageFactory });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZS1wcm92aWRlcnMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtd2Vic3RvcmFnZS1zZXJ2aWNlLyIsInNvdXJjZXMiOlsic3JjL3N0b3JhZ2UtcHJvdmlkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRS9DLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRXJFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDOzs7O0FBRTlFLE1BQU0sVUFBVSxxQkFBcUI7SUFDakMsSUFBSTtRQUNBLElBQUksbUJBQUEsT0FBTyxjQUFjLEVBQU8sS0FBSyxXQUFXLElBQUksa0JBQWtCLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDcEYsT0FBTyxJQUFJLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ2hEO0tBQ0o7SUFBQyxXQUFNLEdBQUU7SUFFVixPQUFPLElBQUksc0JBQXNCLEVBQUUsQ0FBQztBQUN4QyxDQUFDOzs7OztBQUdELE1BQU0sT0FBTyxlQUFlLEdBQUcsSUFBSSxjQUFjLENBQzdDLGlCQUFpQixFQUNqQixFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLENBQ3pEOzs7O0FBRUQsTUFBTSxVQUFVLG1CQUFtQjtJQUMvQixJQUFJO1FBQ0EsSUFBSSxtQkFBQSxPQUFPLFlBQVksRUFBTyxLQUFLLFdBQVcsSUFBSSxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsRUFBRTtZQUNoRixPQUFPLElBQUksaUJBQWlCLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDOUM7S0FDSjtJQUFDLFdBQU0sR0FBRTtJQUVWLE9BQU8sSUFBSSxzQkFBc0IsRUFBRSxDQUFDO0FBQ3hDLENBQUM7Ozs7O0FBR0QsTUFBTSxPQUFPLGFBQWEsR0FBRyxJQUFJLGNBQWMsQ0FDM0MsZUFBZSxFQUNmLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsQ0FDdkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBJbk1lbW9yeVN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi9pbi1tZW1vcnktc3RvcmFnZS5zZXJ2aWNlJztcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi9zdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgaXNTdG9yYWdlQXZhaWxhYmxlLCBXZWJTdG9yYWdlU2VydmljZSB9IGZyb20gJy4vd2ViLXN0b3JhZ2Uuc2VydmljZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXNzaW9uU3RvcmFnZUZhY3RvcnkoKTogU3RvcmFnZVNlcnZpY2Uge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgYXMgYW55ICE9PSAndW5kZWZpbmVkJyAmJiBpc1N0b3JhZ2VBdmFpbGFibGUoc2Vzc2lvblN0b3JhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYlN0b3JhZ2VTZXJ2aWNlKHNlc3Npb25TdG9yYWdlKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2gge31cblxuICAgIHJldHVybiBuZXcgSW5NZW1vcnlTdG9yYWdlU2VydmljZSgpO1xufVxuXG4vKiogSW5qZWN0aW9uIHRva2VuIGZvciB0aGUgc2Vzc2lvbiBzdG9yYWdlIHNlcnZpY2UuICovXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFID0gbmV3IEluamVjdGlvblRva2VuPFN0b3JhZ2VTZXJ2aWNlPihcbiAgICAnU0VTU0lPTl9TVE9SQUdFJyxcbiAgICB7IHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogc2Vzc2lvblN0b3JhZ2VGYWN0b3J5IH1cbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbFN0b3JhZ2VGYWN0b3J5KCk6IFN0b3JhZ2VTZXJ2aWNlIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSBhcyBhbnkgIT09ICd1bmRlZmluZWQnICYmIGlzU3RvcmFnZUF2YWlsYWJsZShsb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYlN0b3JhZ2VTZXJ2aWNlKGxvY2FsU3RvcmFnZSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG5cbiAgICByZXR1cm4gbmV3IEluTWVtb3J5U3RvcmFnZVNlcnZpY2UoKTtcbn1cblxuLyoqIEluamVjdGlvbiB0b2tlbiBmb3IgdGhlIGxvY2FsIHN0b3JhZ2Ugc2VydmljZS4gKi9cbmV4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFID0gbmV3IEluamVjdGlvblRva2VuPFN0b3JhZ2VTZXJ2aWNlPihcbiAgICAnTE9DQUxfU1RPUkFHRScsXG4gICAgeyBwcm92aWRlZEluOiAncm9vdCcsIGZhY3Rvcnk6IGxvY2FsU3RvcmFnZUZhY3RvcnkgfVxuKTtcbiJdfQ==